# Основные настройки
MODE=NORMAL  # NORMAL или TEST
LOG_LEVEL=INFO  # DEBUG, INFO, WARNING, ERROR
PARALLEL_PARSING=true  # true = параллельно, false = последовательно
PARALLEL_WORKERS=2  # количество параллельных потоков для парсинга

# Директории
INVOICES_DIR=invoices
OUTPUT_DIR=output
LOGS_DIR=logs
TEMP_DIR=temp
EXAMPLES_DIR=examples
PROMPTS_DIR=prompts

# Gemini API
GEMINI_API_KEY=your_gemini_api_key_here
GEMINI_MODEL=gemini-2.0-flash-exp
GEMINI_MODEL_FAST=gemini-2.0-flash-exp
GEMINI_TIMEOUT=120

# Промпты
PROMPT_HEADER_PATH=prompts/header.txt
PROMPT_ITEMS_PATH=prompts/items.txt
PROMPT_ITEMS_HEADER=prompts/header+items.txt

# Настройки изображений
ENABLE_IMAGE_ENHANCEMENT=true
IMAGE_UPSCALE_FACTOR=2.0
IMAGE_BRIGHTNESS_FACTOR=1.2
IMAGE_CONTRAST_FACTOR=1.3
IMAGE_SHARPNESS_FACTOR=1.5
IMAGE_COLOR_FACTOR=1.1
IMAGE_UNSHARP_RADIUS=2.0
IMAGE_UNSHARP_PERCENT=150
IMAGE_UNSHARP_THRESHOLD=3
IMAGE_DENOISE_STRENGTH=10.0
IMAGE_BINARIZE=false
IMAGE_BINARIZE_THRESHOLD=127
IMAGE_DILATE=false
IMAGE_DILATE_KERNEL=2
IMAGE_DPI=300
IMAGE_FORMAT=PNG
IMAGE_QUALITY=95
IMAGE_TEMPERATURE=0.0
IMAGE_TOP_P=0.95
IMAGE_MAX_OUTPUT_TOKENS=8192
IMAGE_MAX_OUTPUT_TOKENS_FAST=4096

# Настройки PDF
PDF_PROCESSING_MODE=HYBRID  # DIRECT, IMAGE_BASED, HYBRID
PDF_IMAGE_DPI=300
PDF_MAX_PAGES=10
PDF_TEXT_THRESHOLD=100

# Настройки экспорта
EXPORT_EXCEL_ENABLED=true
EXPORT_CRM_ENABLED=false

# Настройки Web API
WEB_HOST=0.0.0.0
WEB_PORT=8000
WEB_AUTH_TOKEN=your_secret_token_here  # Замените на свой секретный токен!
MAX_FILE_SIZE_MB=50  # Максимальный размер загружаемого файла в МБ
RELOAD_DIRS=  # Директории для auto-reload через запятую (пусто = автоматически)

# Database
DATABASE_URL=postgresql+asyncpg://invoiceparser:invoiceparser_password@db:5432/invoiceparser
DB_ECHO=false
DB_POOL_SIZE=50
DB_MAX_OVERFLOW=20
DB_AUTO_MIGRATE=true

# Database maintenance
ARCHIVE_PARTITIONS_OLDER_THAN_YEARS=2
DUPLICATE_CHECK_WINDOW_SECONDS=60

# Database search settings
FTS_LANGUAGES=simple,russian,english
FTS_PARTIAL_INDEX_LANGUAGES=ru,uk

# Company normalization
NORMALIZE_TAX_ID=true
TAX_ID_FALLBACK_TO_NAME=true

# Transaction settings
DB_TRANSACTION_TIMEOUT=30

# Retry settings for external APIs
API_RETRY_ATTEMPTS=3
API_RETRY_MIN_WAIT=2
API_RETRY_MAX_WAIT=10





