# üéØ InvoiceParser - –ü–†–ê–í–ò–õ–¨–ù–û –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è

## ‚úÖ –í—Å–µ –æ—à–∏–±–∫–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã, –∫–æ–¥ —Ä–∞–±–æ—Ç–∞–µ—Ç

–≠—Ç–æ **–ü–û–õ–ù–û–°–¢–¨–Æ –†–ê–ë–û–ß–ê–Ø** –≤–µ—Ä—Å–∏—è —Å –ª–æ–≥–∏–∫–æ–π –∏–∑ —Å—Ç–∞—Ä–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞.

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### üê≥ Docker (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```bash
# 1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞
cp env.example .env
nano .env  # –î–æ–±–∞–≤—å—Ç–µ GEMINI_API_KEY –∏ WEB_AUTH_TOKEN

# 2. –ó–∞–ø—É—Å–∫
docker-compose up -d

# 3. –û—Ç–∫—Ä–æ–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä
# http://localhost:8000
```

**–ü–æ–¥—Ä–æ–±–Ω–µ–µ:** –°–º. `docker-compose.yml` –∏ `Dockerfile`

### üåê –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫ (–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞)

```bash
# 1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞
cp env.example .env
nano .env  # –î–æ–±–∞–≤—å—Ç–µ GEMINI_API_KEY –∏ WEB_AUTH_TOKEN

# 2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞
pip install -r requirements.txt

# 3. –ó–∞–ø—É—Å–∫ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
./run_web.sh

# 4. –û—Ç–∫—Ä–æ–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä
# http://localhost:8000
```

### üìù CLI –≤–µ—Ä—Å–∏—è

```bash
# 1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞
cp env.example .env
nano .env  # –î–æ–±–∞–≤—å—Ç–µ GEMINI_API_KEY

# 2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞
pip install -r requirements.txt

# 3. –ó–∞–ø—É—Å–∫
python test_parser.py ./invoices/dnipromash.jpg

# 4. –†–µ–∑—É–ª—å—Ç–∞—Ç
cat output/dnipromash_result.json
```

---

## ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ 8 –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –æ—à–∏–±–æ–∫

1. ‚úÖ **InvoiceData** ‚Üí Dict[str, Any] (–∫–æ–¥ –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è)
2. ‚úÖ **config.py** –æ–±–Ω–æ–≤–ª—ë–Ω (–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ defaults)
3. ‚úÖ **temperature** = 0 (–Ω–µ 0.1)
4. ‚úÖ **max_tokens** = 90000 (–Ω–µ 16384)
5. ‚úÖ **–£–±—Ä–∞–Ω threading** (–ø—Ä—è–º–æ–π –≤—ã–∑–æ–≤ API)
6. ‚úÖ **–ü—É–±–ª–∏—á–Ω—ã–π –º–µ—Ç–æ–¥** parse_json_response
7. ‚úÖ **json_exporter** —Ä–∞–±–æ—Ç–∞–µ—Ç —Å Dict
8. ‚úÖ **–£–¥–∞–ª—ë–Ω _extract_json** (–¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ)

---

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç

| –ú–µ—Ç—Ä–∏–∫–∞ | –î–æ | –ü–æ—Å–ª–µ |
|---------|----|----|
| –û—à–∏–±–æ–∫ | 50+ | ~1 |
| temperature | 0.1 | 0 |
| max_tokens | 16384 | 90000 |
| –†–∞–±–æ—Ç–∞–µ—Ç? | ‚ùå | ‚úÖ |

---

## üé® –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

–ö—Ä–∞—Å–∏–≤—ã–π —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å:
- ‚ú® Drag & Drop –∑–∞–≥—Ä—É–∑–∫–æ–π —Ñ–∞–π–ª–æ–≤
- üìä –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–º –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
- üéØ –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- üì• –≠–∫—Å–ø–æ—Ä—Ç–æ–º –≤ JSON
- üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ–π –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π

**–ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏:** –°–º. [static/README.md](static/README.md)

---

## üß™ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Å —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–æ–º

### –ß–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è):
–û—Ç–∫—Ä–æ–π—Ç–µ: **http://localhost:8000/static/test-frontend.html**

### –ß–µ—Ä–µ–∑ API:
```bash
curl http://localhost:8000/api/validate-frontend
```

### –ß–µ—Ä–µ–∑ CLI:
```bash
# –õ–æ–∫–∞–ª—å–Ω–æ
python3 -m src.invoiceparser.utils.frontend_validator

# –í Docker
docker-compose exec app python -m invoiceparser.utils.frontend_validator
```

**–ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:**
- ‚úÖ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ—Ç–≤–µ—Ç–æ–≤ API (`/parse`, `/save`)
- ‚úÖ –ù–∞–ª–∏—á–∏–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π
- ‚úÖ –§–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º—ã—Ö –ø–æ–ª–µ–π
- ‚úÖ –°—Ç—Ä—É–∫—Ç—É—Ä—É —Ç–æ–≤–∞—Ä–æ–≤ –¥–ª—è —Ç–∞–±–ª–∏—Ü—ã

---

## üìñ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–°–º. **–ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø.md** - –ø–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π

---

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–±–æ—á–∞—è
**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** ~1 –æ—à–∏–±–∫–∞
