# ====================================
# ОБЩИЕ НАСТРОЙКИ
# ====================================
# Режим работы: NORMAL или TEST
MODE=NORMAL

# Уровень логирования: DEBUG, INFO, WARNING, ERROR
LOG_LEVEL=INFO

# ====================================
# ДИРЕКТОРИИ
# ====================================
# Директория для входящих документов
INVOICES_DIR=/app/invoices

# Директория для результатов
OUTPUT_DIR=/app/output

# Директория для логов
LOGS_DIR=/app/logs

# Временная директория
TEMP_DIR=/app/output/temp

# Директория с эталонными примерами для TEST-режима
EXAMPLES_DIR=/app/examples

# ====================================
# GEMINI API
# ====================================
# API ключ для Gemini
GEMINI_API_KEY=your_gemini_api_key_here

# Модель Gemini для использования
GEMINI_MODEL=gemini-2.0-flash-exp

# VISION_SEED: "random" для случайного значения или конкретное число
VISION_SEED=random

# Директория с промптами
PROMPTS_DIR=/app/prompts

# Путь к файлу промпта для header
PROMPT_HEADER_PATH=/app/prompts/header.txt

# Путь к файлу промпта для items
PROMPT_ITEMS_PATH=/app/prompts/items.txt

# ====================================
# ОБРАБОТКА ИЗОБРАЖЕНИЙ
# ====================================
# Включить предобработку изображений
ENABLE_IMAGE_ENHANCEMENT=true

# Фактор увеличения изображения (upscale)
IMAGE_UPSCALE_FACTOR=2.0

# Сила шумоподавления (0.0 - 1.0)
IMAGE_DENOISE_STRENGTH=0.3

# Коррекция яркости (1.0 = без изменений)
IMAGE_BRIGHTNESS_FACTOR=1.1

# Коррекция контраста (1.0 = без изменений)
IMAGE_CONTRAST_FACTOR=1.2

# Коррекция резкости (1.0 = без изменений)
IMAGE_SHARPNESS_FACTOR=1.5

# Коррекция цвета/насыщенности (1.0 = без изменений)
IMAGE_COLOR_FACTOR=1.0

# Unsharp mask - радиус
IMAGE_UNSHARP_RADIUS=2.0

# Unsharp mask - процент
IMAGE_UNSHARP_PERCENT=150

# Unsharp mask - порог
IMAGE_UNSHARP_THRESHOLD=3

# Бинаризация изображения
IMAGE_BINARIZE=false

# Порог бинаризации (0-255)
IMAGE_BINARIZE_THRESHOLD=128

# Морфологическое расширение (dilate)
IMAGE_DILATE=false

# Размер ядра для dilate
IMAGE_DILATE_KERNEL=2

# DPI для сохранения изображений
IMAGE_DPI=300

# Формат сохранения: PNG, JPEG
IMAGE_FORMAT=PNG

# Качество JPEG (1-100, только для JPEG)
IMAGE_QUALITY=95

# ====================================
# ОБРАБОТКА PDF
# ====================================
# Режим обработки PDF: DIRECT, IMAGE_BASED, HYBRID
PDF_PROCESSING_MODE=HYBRID

# DPI для конвертации PDF в изображения
PDF_IMAGE_DPI=300

# Максимальное количество страниц для обработки
PDF_MAX_PAGES=50

# Порог количества символов для определения "живого" текста
PDF_TEXT_THRESHOLD=100

# ====================================
# ЭКСПОРТ
# ====================================
# Включить экспорт в Excel
EXPORT_EXCEL_ENABLED=true

# Включить экспорт в CRM (заглушка)
EXPORT_CRM_ENABLED=false

# ====================================
# TELEGRAM BOT
# ====================================
# Токен Telegram бота
TELEGRAM_BOT_TOKEN=your_telegram_bot_token_here

# Разрешённые ID пользователей (через запятую)
TELEGRAM_ALLOWED_USER_IDS=123456789,987654321

# ====================================
# WEB API
# ====================================
# Хост для веб-сервера
WEB_HOST=0.0.0.0

# Порт для веб-сервера
WEB_PORT=8000

# Токен авторизации для API
WEB_AUTH_TOKEN=your_secret_token_here

# ====================================
# EMAIL
# ====================================
# IMAP сервер
EMAIL_HOST=imap.gmail.com

# Порт IMAP
EMAIL_PORT=993

# Использовать SSL
EMAIL_USE_SSL=true

# Логин email
EMAIL_LOGIN=your_email@gmail.com

# Пароль email (для Gmail используйте App Password)
EMAIL_PASSWORD=your_email_password_here

# Разрешённые отправители (через запятую)
EMAIL_ALLOWED_SENDERS=allowed@example.com,another@example.com

# Интервал проверки почты (секунды)
EMAIL_POLL_INTERVAL=300
GEMINI_TIMEOUT=35
