# –ó–∞–º–µ–Ω–∞ POSTGRES_* –Ω–∞ DB_*

## ‚úÖ –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ

–í—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ `POSTGRES_*` –∑–∞–º–µ–Ω–µ–Ω—ã –Ω–∞ `DB_*` –≤–æ –≤—Å–µ–º –ø—Ä–æ–µ–∫—Ç–µ.

### –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Ñ–∞–π–ª–∞—Ö:

1. **docker-compose.yml**
   - `POSTGRES_USER: ${POSTGRES_USER:-...}` ‚Üí `POSTGRES_USER: ${DB_USER:-...}`
   - `POSTGRES_PASSWORD: ${POSTGRES_PASSWORD:-...}` ‚Üí `POSTGRES_PASSWORD: ${DB_PASSWORD:-...}`
   - `POSTGRES_DB: ${POSTGRES_DB:-...}` ‚Üí `POSTGRES_DB: ${DB_NAME:-...}`
   - `POSTGRES_PORT: ${POSTGRES_PORT:-...}` ‚Üí `DB_PORT: ${DB_PORT:-...}`

   **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –í–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ PostgreSQL –≤—Å–µ –µ—â–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ `POSTGRES_*` (—ç—Ç–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–µ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–≥–æ –æ–±—Ä–∞–∑–∞), –Ω–æ –æ–Ω–∏ –º–∞–ø–ø—è—Ç—Å—è –∏–∑ `DB_*` –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö.

2. **scripts/setup_env.py**
   - –í—Å–µ `POSTGRES_*` –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∑–∞–º–µ–Ω–µ–Ω—ã –Ω–∞ `DB_*`
   - –î–æ–±–∞–≤–ª–µ–Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –º–∏–≥—Ä–∞—Ü–∏—è —Å—Ç–∞—Ä—ã—Ö `POSTGRES_*` –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
   - `DATABASE_URL` —Ç–µ–ø–µ—Ä—å —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è –∏–∑ `DB_*` –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö

3. **scripts/cleanup_env.py**
   - –¢–µ–ø–µ—Ä—å —É–¥–∞–ª—è–µ—Ç —Å—Ç–∞—Ä—ã–µ `POSTGRES_*` –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤–º–µ—Å—Ç–æ `DB_*`

4. **docs/DATABASE_CONFIG.md**
   - –û–±–Ω–æ–≤–ª–µ–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å –Ω–æ–≤—ã–º–∏ –∏–º–µ–Ω–∞–º–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
   - –î–æ–±–∞–≤–ª–µ–Ω–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –º–∏–≥—Ä–∞—Ü–∏–∏

5. **CHANGES_DOCKER_ONLY.md**
   - –û–±–Ω–æ–≤–ª–µ–Ω–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –ë–î

## üìã –ù–æ–≤—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ

–í `.env` —Ñ–∞–π–ª–µ —Ç–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è:

```env
DB_USER=invoiceparser
DB_PASSWORD=invoiceparser_password
DB_NAME=invoiceparser
DB_PORT=5432
DATABASE_URL=postgresql+asyncpg://invoiceparser:invoiceparser_password@db:5432/invoiceparser
```

## üîÑ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –º–∏–≥—Ä–∞—Ü–∏—è

–°–∫—Ä–∏–ø—Ç `setup_env.py` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –º–∏–≥—Ä–∏—Ä—É–µ—Ç —Å—Ç–∞—Ä—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:

- –ï—Å–ª–∏ –≤ `.env` –µ—Å—Ç—å `POSTGRES_USER`, –Ω–æ –Ω–µ—Ç `DB_USER` ‚Üí —Å–æ–∑–¥–∞–µ—Ç—Å—è `DB_USER` –∏–∑ `POSTGRES_USER`
- –ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ –¥–ª—è –≤—Å–µ—Ö –æ—Å—Ç–∞–ª—å–Ω—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
- –°—Ç–∞—Ä—ã–µ `POSTGRES_*` –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —É–¥–∞–ª—è—é—Ç—Å—è –ø—Ä–∏ —Å–ª–µ–¥—É—é—â–µ–º –∑–∞–ø—É—Å–∫–µ `cleanup_env.py`

## üê≥ Docker Compose

–í `docker-compose.yml` –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ `DB_*` –º–∞–ø–ø—è—Ç—Å—è –Ω–∞ `POSTGRES_*` –¥–ª—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ PostgreSQL:

```yaml
environment:
  POSTGRES_USER: ${DB_USER:-invoiceparser}
  POSTGRES_PASSWORD: ${DB_PASSWORD:-invoiceparser_password}
  POSTGRES_DB: ${DB_NAME:-invoiceparser}
```

–≠—Ç–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ, —Ç–∞–∫ –∫–∞–∫ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π –æ–±—Ä–∞–∑ PostgreSQL –æ–∂–∏–¥–∞–µ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ `POSTGRES_*`.

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞

–ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π:
- ‚úÖ –í—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ `.env` –∏—Å–ø–æ–ª—å–∑—É—é—Ç `DB_*`
- ‚úÖ `docker-compose.yml` –º–∞–ø–ø–∏—Ç `DB_*` –Ω–∞ `POSTGRES_*`
- ‚úÖ –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è —É—Å–ø–µ—à–Ω–æ

## üìù –†–µ–∑—é–º–µ

- ‚úÖ `POSTGRES_*` ‚Üí `DB_*` –≤–æ –≤—Å–µ—Ö –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–∞—Ö
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –º–∏–≥—Ä–∞—Ü–∏—è —Å—Ç–∞—Ä—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
- ‚úÖ `POSTGRES_*` –æ—Å—Ç–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ `docker-compose.yml` –¥–ª—è –º–∞–ø–ø–∏–Ω–≥–∞ (—ç—Ç–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ)
- ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞

**–ó–∞–º–µ–Ω–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ!**

